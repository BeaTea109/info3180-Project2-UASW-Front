(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{a3e4:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("q-page",{staticClass:"flex flex-center"},[t("b-card",{staticStyle:{"margin-top":"3vh"},attrs:{title:"Add New Car"}},[t("b-form",{on:{submit:e.saveCar_}},[t("b-form-row",[t("b-form-group",{attrs:{id:"input-group-make",label:"Make:","label-for":"input-make"}},[t("b-form-input",{attrs:{id:"input-make",placeholder:"Tesla",required:""},model:{value:e.car.make,callback:function(a){e.$set(e.car,"make",a)},expression:"car.make"}})],1),t("b-form-group",{staticClass:"ml-4",attrs:{id:"input-group-model",label:"Model:","label-for":"input-model"}},[t("b-form-input",{attrs:{id:"input-model",placeholder:"Model S",required:""},model:{value:e.car.model,callback:function(a){e.$set(e.car,"model",a)},expression:"car.model"}})],1)],1),t("b-form-row",[t("b-form-group",{attrs:{id:"input-group-color",label:"Color:","label-for":"input-color"}},[t("b-form-input",{attrs:{id:"input-color",placeholder:"Red",required:""},model:{value:e.car.colour,callback:function(a){e.$set(e.car,"colour",a)},expression:"car.colour"}})],1),t("b-form-group",{staticClass:"ml-4",attrs:{id:"input-group-year",label:"Year:","label-for":"input-year"}},[t("b-form-input",{attrs:{id:"input-year",type:"number",placeholder:"2018",required:""},model:{value:e.car.year,callback:function(a){e.$set(e.car,"year",a)},expression:"car.year"}})],1)],1),t("b-form-row",[t("b-form-group",{attrs:{id:"input-group-price",label:"Price:","label-for":"input-price"}},[t("b-form-input",{attrs:{id:"input-price",type:"number",placeholder:"62888",required:""},model:{value:e.car.price,callback:function(a){e.$set(e.car,"price",a)},expression:"car.price"}})],1),t("b-form-group",{staticClass:"ml-4",attrs:{id:"input-group-car-type",label:"Car Type:","label-for":"car-type"}},[t("b-form-select",{attrs:{id:"car-type",options:e.carTypes,required:""},model:{value:e.car.type,callback:function(a){e.$set(e.car,"type",a)},expression:"car.type"}})],1)],1),t("b-form-row",[t("b-form-group",{attrs:{"content-cols-lg":"10",id:"input-group-transmission",label:"Transmission:","label-for":"transmission"}},[t("b-form-select",{attrs:{id:"transmission",options:e.transmissionTypes,required:""},model:{value:e.car.transmission,callback:function(a){e.$set(e.car,"transmission",a)},expression:"car.transmission"}})],1)],1),t("b-form-row",[t("b-form-group",{attrs:{id:"input-group-description",label:"Description:","label-for":"input-description"}},[t("b-form-textarea",{attrs:{id:"input-description",placeholder:"Description...",cols:"48",rows:"2","max-rows":"6"},model:{value:e.car.description,callback:function(a){e.$set(e.car,"description",a)},expression:"car.description"}})],1)],1),t("b-form-row",[t("b-form-group",{attrs:{id:"input-group-photo",label:"Photo:","label-for":"input-photo"}},[t("b-form-file",{attrs:{id:"input-photo",state:Boolean(e.car.photo),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:e.photo,callback:function(a){e.photo=a},expression:"photo"}})],1)],1),e.message?t("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v("\n        "+e._s(e.message)+"\n      ")]):e._e(),t("b-button",{attrs:{disabled:e.loading,type:"submit",variant:"success"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e._v("Save")])])],1)],1)],1)},o=[],s=(t("d3b7"),t("25f0"),t("970b")),i=t.n(s),n=(t("a4d3"),t("e01a"),function e(a,t,r,o,s,n,c,l,p){i()(this,e),this.make=a,this.model=t,this.color=r,this.year=o,this.price=s,this.type=n,this.photo=p,this.transmission=c,this.description=l}),c=t("c78c"),l=t("bc3a"),p=t.n(l),u={data:function(){return{car:new n("",""),message:null,loading:!1,photo:[],successful:null,carTypes:[{value:"Limousine",text:"Limousine"},{value:"Micro Car",text:"Micro Car"},{value:"Hatchback",text:"Hatchback"},{value:"Sports Utility Vehicle",text:"Sports Utility Vehicle"},{value:"Sedan",text:"Sedan"},{value:"Family Car",text:"Family Car"},{value:"Pickup",text:"Pickup"},{value:"SUV",text:"SUV"}],transmissionTypes:[{value:"Automatic",text:"Automoatic"},{value:"Semi-Automatic",text:"Semi-Automatic"},{value:"Manual",text:"Manual"},{value:"Variable",text:"Variable"}]}},methods:{saveCar_:function(e){var a=this;e.preventDefault(),this.loading=!0;var t=this.$store.state.auth.user.user.id;this.message="";var r=" https://api.cloudinary.com/v1_1/djhycr4me/image/upload",o=new FormData;o.append("file",this.photo),o.append("upload_preset","webdev2");var s=this.car;p.a.post(r,o).then((function(e){a.car.photo=e.data.url,console.log("this working"),c["a"].saveCar(s,t).then((function(e){a.message="Car added Successfully",a.successful=!0,a.loading=!1}),(function(e){a.message=e.response&&e.response.data||e.message||e.toString(),a.successful=!1,a.loading=!1}))}))}}},d=u,m=t("2877"),b=t("9989"),f=t("eebe"),h=t.n(f),v=Object(m["a"])(d,r,o,!1,null,null,null);a["default"]=v.exports;h()(v,"components",{QPage:b["a"]})},c4c6:function(e,a,t){"use strict";function r(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}t.d(a,"a",(function(){return r}))},c78c:function(e,a,t){"use strict";var r=t("970b"),o=t.n(r),s=t("5bc3"),i=t.n(s),n=(t("a4d3"),t("e01a"),t("c4c6")),c=t("bc3a"),l=t.n(c),p="https://info3180-project-2-backend.herokuapp.com/api/",u=function(){function e(){o()(this,e)}return i()(e,[{key:"getCars",value:function(){return l.a.get(p+"cars",{headers:Object(n["a"])()})}},{key:"saveCar",value:function(e,a){console.log("not working");var t=new FormData;return t.append("user_id",a),t.append("make",e.make),t.append("model",e.model),t.append("colour",e.colour),t.append("year",e.year),t.append("transmission",e.transmission),t.append("car_type",e.type),t.append("price",e.price),t.append("photo",e.photo),t.append("description",e.description),l.a.post(p+"cars",t,{headers:Object(n["a"])()})}},{key:"getCarByID",value:function(e){return l.a.get(p+"cars/".concat(e),{headers:Object(n["a"])()})}},{key:"getUserFavouriteCars",value:function(e){return l.a.get(p+"users/".concat(e,"/favourites"),{headers:Object(n["a"])()})}},{key:"addFavourite",value:function(e){return l.a.post(p+"cars/".concat(e,"/favourite"),{},{headers:Object(n["a"])()})}}]),e}();a["a"]=new u}}]);