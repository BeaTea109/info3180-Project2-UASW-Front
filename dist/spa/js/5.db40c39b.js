(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{c4c6:function(a,e,t){"use strict";function r(){var a=JSON.parse(localStorage.getItem("user"));return a&&a.token?{Authorization:"Bearer "+a.token}:{}}t.d(e,"a",(function(){return r}))},c78c:function(a,e,t){"use strict";var r=t("970b"),n=t.n(r),o=t("5bc3"),c=t.n(o),s=(t("a4d3"),t("e01a"),t("c4c6")),i=t("bc3a"),u=t.n(i),d="https://info3180-project-2-backend.herokuapp.com/api/",p=function(){function a(){n()(this,a)}return c()(a,[{key:"getCars",value:function(){return u.a.get(d+"cars",{headers:Object(s["a"])()})}},{key:"saveCar",value:function(a,e){console.log("not working");var t=new FormData;return t.append("user_id",e),t.append("make",a.make),t.append("model",a.model),t.append("colour",a.colour),t.append("year",a.year),t.append("transmission",a.transmission),t.append("car_type",a.type),t.append("price",a.price),t.append("photo",a.photo),t.append("description",a.description),u.a.post(d+"cars",t,{headers:Object(s["a"])()})}},{key:"getCarByID",value:function(a){return u.a.get(d+"cars/".concat(a),{headers:Object(s["a"])()})}},{key:"getUserFavouriteCars",value:function(a){return u.a.get(d+"users/".concat(a,"/favourites"),{headers:Object(s["a"])()})}},{key:"addFavourite",value:function(a){return u.a.post(d+"cars/".concat(a,"/favourite"),{},{headers:Object(s["a"])()})}}]),a}();e["a"]=new p},fddb:function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("q-page",{staticClass:"flex flex-center",attrs:{padding:""}},[t("b-card",{directives:[{name:"show",rawName:"v-show",value:a.loaded,expression:"loaded"}],staticClass:"overflow-hidden",staticStyle:{"min-width":"1000px","max-width":"1000px"},attrs:{"no-body":""}},[t("b-row",{attrs:{"no-gutters":""}},[t("b-col",{attrs:{md:"6"}},[t("b-card-img",{staticClass:"rounded-0",staticStyle:{height:"100%"},attrs:{src:a.car.photo}})],1),t("b-col",{attrs:{md:"6"}},[t("b-card-body",{attrs:{"sub-title":a.car.model,title:a.car.year+" "+a.car.make}},[t("b-card-text",[a._v("\n            "+a._s(a.car.description)+"\n          ")]),t("b-row",{attrs:{cols:"2"}},[t("b-col",[a._v(" Color "+a._s(a.car.colour)+" ")]),t("b-col",[a._v(" Body Type "+a._s(a.car.car_type)+" ")]),t("b-col",[a._v(" Price "+a._s(a.currencyFormat(a.car.price))+" ")]),t("b-col",[a._v(" Transmission "+a._s(a.car.transmission)+" ")])],1),t("q-space"),t("b-row",{attrs:{"align-h":"end"}},[t("b-button",{staticClass:"mt-4 mr-3",attrs:{variant:"light",pill:"",size:"md"},on:{click:a.makeFavourite}},[t("b-icon",{attrs:{variant:"danger",icon:a.favourite?"heartFill":"heart","aria-hidden":"true"}})],1)],1)],1)],1)],1)],1)],1)},n=[],o=(t("4de4"),t("c78c")),c={data:function(){return{loaded:!1,car:null,favourite:!1}},created:function(){var a=this;o["a"].getCarByID(this.$route.params.id).then((function(e,t){t||(a.car=e.data,o["a"].getUserFavouriteCars(a.$route.params.id).then((function(e,r){if(!t){var n=e.data.cars,o=n.filter((function(e){var t=e.id;return t===parseInt(a.$route.params.id)}));a.favourite=1===o.length}a.loaded=!0})))}))},methods:{currencyFormat:function(a){var e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return e.format(a)},makeFavourite:function(){var a=this;this.favourite||o["a"].addFavourite(this.$route.params.id).then((function(e,t){t||(a.favourite=!0)}))}}},s=c,i=t("2877"),u=t("9989"),d=t("2c91"),p=t("eebe"),l=t.n(p),v=Object(i["a"])(s,r,n,!1,null,"981201c4",null);e["default"]=v.exports;l()(v,"components",{QPage:u["a"],QSpace:d["a"]})}}]);