(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{a3e4:function(e,a,r){"use strict";r.r(a);var t=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("q-page",{staticClass:"flex flex-center"},[r("b-card",{staticStyle:{"margin-top":"3vh"},attrs:{title:"Add New Car"}},[r("b-form",{on:{submit:e.saveCar_}},[r("b-form-row",[r("b-form-group",{attrs:{id:"input-group-make",label:"Make:","label-for":"input-make"}},[r("b-form-input",{attrs:{id:"input-make",placeholder:"Tesla",required:""},model:{value:e.car.make,callback:function(a){e.$set(e.car,"make",a)},expression:"car.make"}})],1),r("b-form-group",{staticClass:"ml-4",attrs:{id:"input-group-model",label:"Model:","label-for":"input-model"}},[r("b-form-input",{attrs:{id:"input-model",placeholder:"Model S",required:""},model:{value:e.car.model,callback:function(a){e.$set(e.car,"model",a)},expression:"car.model"}})],1)],1),r("b-form-row",[r("b-form-group",{attrs:{id:"input-group-color",label:"Color:","label-for":"input-color"}},[r("b-form-input",{attrs:{id:"input-color",placeholder:"Red",required:""},model:{value:e.car.colour,callback:function(a){e.$set(e.car,"colour",a)},expression:"car.colour"}})],1),r("b-form-group",{staticClass:"ml-4",attrs:{id:"input-group-year",label:"Year:","label-for":"input-year"}},[r("b-form-input",{attrs:{id:"input-year",type:"number",placeholder:"2018",required:""},model:{value:e.car.year,callback:function(a){e.$set(e.car,"year",a)},expression:"car.year"}})],1)],1),r("b-form-row",[r("b-form-group",{attrs:{id:"input-group-price",label:"Price:","label-for":"input-price"}},[r("b-form-input",{attrs:{id:"input-price",type:"number",placeholder:"62888",required:""},model:{value:e.car.price,callback:function(a){e.$set(e.car,"price",a)},expression:"car.price"}})],1),r("b-form-group",{staticClass:"ml-4",attrs:{id:"input-group-car-type",label:"Car Type:","label-for":"car-type"}},[r("b-form-select",{attrs:{id:"car-type",options:e.carTypes,required:""},model:{value:e.car.type,callback:function(a){e.$set(e.car,"type",a)},expression:"car.type"}})],1)],1),r("b-form-row",[r("b-form-group",{attrs:{"content-cols-lg":"10",id:"input-group-transmission",label:"Transmission:","label-for":"transmission"}},[r("b-form-select",{attrs:{id:"transmission",options:e.transmissionTypes,required:""},model:{value:e.car.transmission,callback:function(a){e.$set(e.car,"transmission",a)},expression:"car.transmission"}})],1)],1),r("b-form-row",[r("b-form-group",{attrs:{id:"input-group-description",label:"Description:","label-for":"input-description"}},[r("b-form-textarea",{attrs:{id:"input-description",placeholder:"Description...",cols:"48",rows:"2","max-rows":"6"},model:{value:e.car.description,callback:function(a){e.$set(e.car,"description",a)},expression:"car.description"}})],1)],1),r("b-form-row",[r("b-form-group",{attrs:{id:"input-group-photo",label:"Photo:","label-for":"input-photo"}},[r("b-form-file",{attrs:{id:"input-photo",state:Boolean(e.car.photo),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:e.photo,callback:function(a){e.photo=a},expression:"photo"}})],1)],1),e.message?r("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v("\n        "+e._s(e.message)+"\n      ")]):e._e(),r("b-button",{attrs:{disabled:e.loading,type:"submit",variant:"success"}},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),r("span",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e._v("Save")])])],1)],1)],1)},o=[],s=(r("d3b7"),r("25f0"),r("970b")),i=r.n(s),n=(r("a4d3"),r("e01a"),function e(a,r,t,o,s,n,l,c,p){i()(this,e),this.make=a,this.model=r,this.color=t,this.year=o,this.price=s,this.type=n,this.photo=p,this.transmission=l,this.description=c}),l=r("c78c"),c=r("bc3a"),p=r.n(c),u={data:function(){return{car:new n("",""),message:null,loading:!1,photo:[],successful:null,carTypes:[{value:"Limousine",text:"Limousine"},{value:"Micro Car",text:"Micro Car"},{value:"Hatchback",text:"Hatchback"},{value:"Sports Utility Vehicle",text:"Sports Utility Vehicle"},{value:"Sedan",text:"Sedan"},{value:"Family Car",text:"Family Car"},{value:"Pickup",text:"Pickup"},{value:"SUV",text:"SUV"}],transmissionTypes:[{value:"Automatic",text:"Automoatic"},{value:"Semi-Automatic",text:"Semi-Automatic"},{value:"Manual",text:"Manual"},{value:"Variable",text:"Variable"}]}},methods:{saveCar_:function(e){var a=this;e.preventDefault(),this.loading=!0;var r=this.$store.state.auth.user.user.id;this.message="";var t=" https://api.cloudinary.com/v1_1/djhycr4me/image/upload",o=new FormData;o.append("file",this.photo),o.append("upload_preset","webdev2");var s=this.car;p.a.post(t,o).then((function(e){a.car.photo=e.data.url,console.log("this working"),l["a"].saveCar(s,r).then((function(e){a.message="Car added Successfully",a.successful=!0,a.loading=!1}),(function(e){a.message=e.response&&e.response.data||e.message||e.toString(),a.successful=!1,a.loading=!1}))}))}}},d=u,m=r("2877"),b=r("9989"),f=r("eebe"),h=r.n(f),v=Object(m["a"])(d,t,o,!1,null,null,null);a["default"]=v.exports;h()(v,"components",{QPage:b["a"]})},c78c:function(e,a,r){"use strict";var t=r("970b"),o=r.n(t),s=r("5bc3"),i=r.n(s);r("a4d3"),r("e01a");function n(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var l=r("bc3a"),c=r.n(l),p="https://info3180-project-2-backend.herokuapp.com/api/",u=function(){function e(){o()(this,e)}return i()(e,[{key:"getCars",value:function(){return c.a.get(p+"cars",{headers:n()})}},{key:"saveCar",value:function(e,a){console.log("not working");var r=new FormData;return r.append("user_id",a),r.append("make",e.make),r.append("model",e.model),r.append("colour",e.colour),r.append("year",e.year),r.append("transmission",e.transmission),r.append("car_type",e.type),r.append("price",e.price),r.append("photo",e.photo),r.append("description",e.description),c.a.post(p+"cars",r,{headers:n()})}},{key:"getCarByID",value:function(e){return c.a.get(p+"cars/".concat(e),{headers:n()})}},{key:"getUserFavouriteCars",value:function(e){return c.a.get(p+"users/".concat(e,"/favourites"),{headers:n()})}}]),e}();a["a"]=new u}}]);